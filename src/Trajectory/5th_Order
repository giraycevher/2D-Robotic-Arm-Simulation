 function [q_pos, q_vel, q_acc, t_vec] = fifth_order_trajectory(q_start_deg, q_final_deg, T_sim, dt)

Tf = T_sim;
delta_q = q_final_deg - q_start_deg;

a0 = q_start_deg;
a1 = 0;
a2 = 0;

A_matrix = [Tf^3, Tf^4, Tf^5;3*Tf^2, 4*Tf^3,  5*Tf^4;6*Tf,   12*Tf^2, 20*Tf^3];

B_vector = [delta_q;0;0];

coeffs = A_matrix \ B_vector; 

a3 = coeffs(1);
a4 = coeffs(2); 
a5 = coeffs(3);

t_vec = (0:dt:Tf)';%transÄŸoz

q_pos = zeros(size(t_vec));
q_vel = zeros(size(t_vec));
q_acc = zeros(size(t_vec));

 for k = 1:length(t_vec)
    t = t_vec(k);
    
    q_pos(k) = a0 + a3*t^3 + a4*t^4 + a5*t^5;
    q_vel(k) = 3*a3*t^2 + 4*a4*t^3 + 5*a5*t^4;
    q_acc(k) = 6*a3*t + 12*a4*t^2 + 20*a5*t^3;

  end

end
